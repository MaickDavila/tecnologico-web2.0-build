import{f as q,k as o,B,C as ae,D as m,s as ue,E as H,G as J,H as k,I as C}from"./vendor.3a100e18.js";/**
 * Vue 3 Carousel 0.1.28
 * (c) 2021
 * @license MIT
 */function oe(){return new Proxy({value:0,read:0},{get(t,a){return a in t?a==="read"?t[a]:t[a]++:0},set(t,a,u){return t[a]=Math.max(u,0),!0}})}function se(t,a){let u;return function(...i){u&&clearTimeout(u),u=setTimeout(()=>{t(...i),u=null},a)}}function ie(t,a){let u;return function(...i){const h=this;u||(t.apply(h,i),u=!0,setTimeout(()=>u=!1,a))}}function re(t){var a,u,i;return t?((u=(a=t[0])===null||a===void 0?void 0:a.type)===null||u===void 0?void 0:u.name)==="CarouselSlide"?t:((i=t[0])===null||i===void 0?void 0:i.children)||[]:[]}var fe=q({name:"Carousel",props:{itemsToShow:{default:1,type:Number},itemsToScroll:{default:1,type:Number},wrapAround:{default:!1,type:Boolean},snapAlign:{default:"center",validator(t){return["start","end","center","center-even","center-odd"].includes(t)}},transition:{default:300,type:Number},settings:{default(){return{}},type:Object},breakpoints:{default:null,type:Object},autoplay:{default:0,type:Number},pauseAutoplayOnHover:{default:!1,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:!0,type:Boolean},touchDrag:{default:!0,type:Boolean}},setup(t,{slots:a,emit:u}){var i;const h=o(null),p=o([]),v=o([]),g=o(0),r=o(1),b=o(1),T=oe(),n=B({});let S={},y=o({});N(),O(),ae(t,()=>{N(),O(),_(),V()});const c=o((i=n.currentSlide)!==null&&i!==void 0?i:0),f=o(0),M=o(0);m("config",n),m("slidesBuffer",v),m("slidesCount",r),m("currentSlide",c),m("slidesCounter",T),m("paginationCount",b);function N(){S=Object.assign(Object.assign(Object.assign({},t),t.settings),{currentSlide:t.modelValue}),y=o(Object.assign({},S.breakpoints)),S=Object.assign(Object.assign({},S),{settings:void 0,breakpoints:void 0})}function O(){const e=Object.keys(y.value).map(l=>Number(l)).sort((l,D)=>+D-+l);let s=Object.assign({},S);e.some(l=>window.matchMedia(`(min-width: ${l}px)`).matches?(s=Object.assign(Object.assign({},s),y.value[l]),!0):!1),Object.keys(s).forEach(l=>n[l]=s[l])}const K=se(()=>{y.value&&(O(),_()),V()},16);function V(){if(!h.value)return;const e=h.value.getBoundingClientRect();g.value=e.width/n.itemsToShow}function _(){b.value=p.value.length,r.value=p.value.length,M.value=Math.ceil((r.value-1)/2),c.value=r.value<=0?0:Math.min(r.value-1,c.value)}function L(){const e=[...Array(r.value).keys()];if(n.wrapAround){const s=c.value+M.value+1;for(let l=0;l<s;l++)e.push(Number(e.shift()))}v.value=e}ue(()=>{y.value&&(O(),_()),V(),n.autoplay>0&&I(),window.addEventListener("resize",K,{passive:!0})});let d=!1;const E={x:0,y:0},j={x:0,y:0},w=B({x:0,y:0}),$=o(!1),P=o(!1),Q=()=>{P.value=!0},Z=()=>{P.value=!1},z=ie(e=>{d||e.preventDefault(),j.x=d?e.touches[0].clientX:e.clientX,j.y=d?e.touches[0].clientY:e.clientY;const s=j.x-E.x,l=j.y-E.y;w.y=l,w.x=s},16);function U(e){d||e.preventDefault(),d=e.type==="touchstart",!(!d&&e.button!==0||A.value)&&($.value=!0,E.x=d?e.touches[0].clientX:e.clientX,E.y=d?e.touches[0].clientY:e.clientY,document.addEventListener(d?"touchmove":"mousemove",z),document.addEventListener(d?"touchend":"mouseup",W))}function W(){$.value=!1;const e=Math.sign(w.x)*.4,s=Math.round(w.x/g.value+e);let l=c.value-s;n.wrapAround||(l=Math.max(Math.min(l,r.value-1),0)),x(l),w.x=0,w.y=0,document.removeEventListener(d?"touchmove":"mousemove",z),document.removeEventListener(d?"touchend":"mouseup",W)}function I(){setInterval(()=>{n.pauseAutoplayOnHover&&P.value||G()},n.autoplay)}const A=o(!1);function x(e,s=!1){if(c.value===e||A.value)return;const l=r.value-1;if(e>l)return x(e-r.value);if(e<0)return x(e+r.value);A.value=!0,f.value=c.value,c.value=e,s||u("update:modelValue",c.value),setTimeout(()=>{n.wrapAround&&L(),A.value=!1},n.transition)}function G(){let e=c.value+n.itemsToScroll;n.wrapAround||(e=Math.min(e,b.value-1)),x(e)}function ee(){let e=c.value-n.itemsToScroll;n.wrapAround||(e=Math.max(e,0)),x(e)}m("nav",{slideTo:x,next:G,prev:ee});const R=H(()=>{let e=v.value.indexOf(c.value);if(n.snapAlign==="center"||n.snapAlign==="center-odd"?e-=(n.itemsToShow-1)/2:n.snapAlign==="center-even"?e-=(n.itemsToShow-2)/2:n.snapAlign==="end"&&(e-=n.itemsToShow-1),!n.wrapAround){const s=r.value-n.itemsToShow,l=0;e=Math.max(Math.min(e,s),l)}return e});m("slidesToScroll",R);const te=H(()=>({transform:`translateX(${w.x-R.value*g.value}px)`,transition:`${A.value?n.transition:0}ms`})),F=B({slideWidth:g,slidesCount:r,currentSlide:c}),X=a.default||a.slides,Y=a.addons;return J(()=>{const e=r.value!==p.value.length;t.modelValue!==void 0&&c.value!==t.modelValue&&x(Number(t.modelValue),!0),e&&(_(),L()),T.read&&(T.value=p.value.length-1)}),L(),()=>{const e=re(X==null?void 0:X(F)),s=(Y==null?void 0:Y(F))||[];p.value=e,e.forEach((ne,le)=>ne.props.index=le);const l=k("ol",{class:"carousel__track",style:te.value,onMousedown:n.mouseDrag?U:null,onTouchstart:n.touchDrag?U:null},e),D=k("div",{class:"carousel__viewport"},l);return k("section",{ref:h,class:"carousel","aria-label":"Gallery",onMouseenter:Q,onMouseleave:Z},[D,s])}}}),ve=q({name:"CarouselSlide",props:{index:{type:Number,default:1}},setup(t,{slots:a}){const u=C("config",B({})),i=C("slidesBuffer",o([])),h=C("slidesCounter"),p=C("currentSlide",o(0)),v=C("slidesToScroll",o(0)),g=h.value,r=o(g);u.wrapAround&&(b(),J(b));function b(){r.value=i.value.indexOf(g)}const T=H(()=>{const f=u.itemsToShow;return{width:`${1/f*100}%`,order:r.value.toString()}}),n=()=>t.index===p.value,S=()=>{const f=Math.ceil(v.value),M=Math.floor(v.value+u.itemsToShow);return i.value.slice(f,M).includes(t.index)},y=()=>t.index===i.value[Math.ceil(v.value)-1],c=()=>t.index===i.value[Math.floor(v.value+u.itemsToShow)];return()=>{var f;return k("li",{style:T.value,class:{carousel__slide:!0,"carousel__slide--active":n(),"carousel__slide--visible":S(),"carousel__slide--prev":y(),"carousel__slide--next":c()}},(f=a.default)===null||f===void 0?void 0:f.call(a))}}});export{fe as C,ve as S};
